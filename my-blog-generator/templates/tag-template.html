{% extends "base.html" %} {% block content %}
<div class="container">
  <div class="post-list">
    {% for post in posts %}
    <article class="post-item">
      <h2>
        <a href="/posts/{{ post.slug }}.html">{{ post.title }}</a>
      </h2>
      <p class="post-meta">{{ post.date }} · {{ post.date | daysAgo }}</p>
      {% if post.tags.length %}
      <span>标签: {% for tag in post.tags %}
        <a href="/tags/{{ tag }}/">{{ tag }}</a>{% if not loop.last %}, {% endif
        %} {% endfor %}
      </span>
      {% endif %}
      <div class="post-excerpt">{{ post.excerpt | safe }}</div>
    </article>
    {% endfor %}
  </div>

  <nav class="pagination">
    {% if currentPage > 1 %} {% if currentPage == 2 %}
    <a href="/index.html">上一页</a>
    {% else %}
    <a href="/page{{ currentPage - 1 }}.html">上一页</a>
    {% endif %} {% endif %} {% for i in pages %} {% if i == currentPage %}
    <span class="current">{{ i }}</span>
    {% else %} {% if i == 1 %}
    <a href="/index.html">{{ i }}</a>
    {% else %}
    <a href="/page{{ i }}.html">{{ i }}</a>
    {% endif %} {% endif %} {% endfor %} {% if currentPage < totalPages %} <a href="/page{{ currentPage + 1 }}.html">
      下一页</a>
      {% endif %}
  </nav>
</div>
{% endblock %}